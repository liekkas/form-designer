webpackJsonp([1],{"+skl":function(e,t){},"6QzW":function(e,t){},"6Y8V":function(e,t,a){var l=a("kX7f");e.exports={render:function(e){return e("div",{attrs:{style:"height: "+(this.height?this.px(this.height):"100%")+"; width: "+(this.width?this.px(this.width):"100%")}})},props:{value:{type:String,required:!0},lang:String,theme:String,height:!0,width:!0,options:Object},data:function(){return{editor:null,contentBackup:""}},methods:{px:function(e){return/^\d*$/.test(e)?e+"px":e}},watch:{value:function(e){this.contentBackup!==e&&this.editor.setValue(e,1)},theme:function(e){this.editor.setTheme("ace/theme/"+e)},lang:function(e){this.editor.getSession().setMode("ace/mode/"+e)},options:function(e){this.editor.setOptions(e)},height:function(){this.$nextTick(function(){this.editor.resize()})},width:function(){this.$nextTick(function(){this.editor.resize()})}},mounted:function(){var e=this,t=this.lang||"text",i=this.theme||"chrome";a("l82v");var s=e.editor=l.edit(this.$el);this.$emit("init",s),s.$blockScrolling=1/0,s.setOption("enableEmmet",!0),s.setOption("showPrintMargin",!1),s.getSession().setMode("ace/mode/"+t),s.setTheme("ace/theme/"+i),s.setValue(this.value,1),s.on("change",function(){var t=s.getValue();e.$emit("input",t),e.contentBackup=t}),e.options&&s.setOptions(e.options)}}},"76h+":function(e,t){e.exports={storageTableName:"f_undefined_undefined",fields:[{type:"area",groupType:"layout",label:"基本信息",textAlign:"left",children:[{type:"staff",groupType:"biz",label:"人员信息",placeholder:"",index:0,fields:[{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"姓名",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"6c281b4ddb8a",columnKey:"column_4517"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"手机号",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"6c99e19603f8",columnKey:"column_2a5a"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"部门",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"6d0a9e33e9ad",columnKey:"column_60d1"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"职位",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"12f58fb5c8fc",columnKey:"column_2527"}],uuId:"9a353545c32a",columnKey:"column_ca69"},{type:"radio",length:20,isAddIndex:!1,required:!1,groupType:"array",label:"报销类型",arrayValue:["通信","交通","餐饮"],value:"通信",defaultValue:"",attributeType:"varchar",uuId:"b58b85e673dc",columnKey:"column_088e"},{type:"textarea",length:200,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"说明",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"0d29552d3ae1",columnKey:"column_8641"}],uuId:"63cef92fe6be",columnKey:"column_6ca5"},{type:"subForm",groupType:"layout",label:"子表单",objectName:"详情单",displayType:2,objectType:2,textAlign:"left",bgColor:"aliceblue",showTableName:"",storageTableName:"sub__undefined",descInfo:"",children:[{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"发生地",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"ec1e1634a709",columnKey:"column_dd78"},{type:"date",label:"发生时间",isAddIndex:!1,required:!1,placeholder:"请选择日期",value:"",defaultValue:"",attributeType:"datetime",uuId:"2a839ef82294",columnKey:"column_f9bc"},{type:"number",length:20,isAddIndex:!1,required:!1,groupType:"text",label:"金额",placeholder:"",value:0,defaultValue:0,attributeType:"int",uuId:"fba7261ea02f",columnKey:"column_dfc9"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"备注",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"0d8089571ed8",columnKey:"column_f2b2"}],values:[{fields:[{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"发生地",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"ec1e1634a709",columnKey:"column_dd78"},{type:"date",label:"发生时间",isAddIndex:!1,required:!1,placeholder:"请选择日期",value:"",defaultValue:"",attributeType:"datetime",uuId:"2a839ef82294",columnKey:"column_f9bc"},{type:"number",length:20,isAddIndex:!1,required:!1,groupType:"text",label:"金额",placeholder:"",value:0,defaultValue:0,attributeType:"int",uuId:"fba7261ea02f",columnKey:"column_dfc9"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"备注",placeholder:"",value:"",defaultValue:"",attributeType:"varchar",uuId:"0d8089571ed8",columnKey:"column_f2b2"}],uuId:"27af935d46be"}],uuId:"f16389b97695"}]}},"89R3":function(e,t){},EB1D:function(e,t){},Eoja:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),i=a("mvHQ"),s=a.n(i),r=a("Dd8w"),o=a.n(r),d=a("Gu7T"),n=a.n(d),c=a("DAYN"),u=a.n(c),f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("Input",{staticClass:"field-box-right",attrs:{rows:4,type:"textarea",placeholder:e.data.placeholder,disabled:e.disabled},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var v=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){var e=this.data.value.trim(),t=this.data,a=t.required,l=t.label,i=t.minLength,s=t.length;return a&&""==e?(this.isInvalide=!0,this.$Message.error("【"+l+"】不能为空！"),!1):e.length<i?(this.isInvalide=!0,this.$Message.error("【"+l+"】至少输入"+i+"个字符"),!1):e.length>s?(this.isInvalide=!0,this.$Message.error("【"+l+"】字数超过最大长度【"+s+"】"),!1):(this.isInvalide=!1,!0)}}},f,!1,function(e){a("qeng")},null,null).exports,p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("CheckboxGroup",{staticClass:"field-box-right",model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},e._l(e.data.arrayValue,function(t){return a("Checkbox",{key:t,attrs:{label:t,disabled:e.disabled}})}))],1)},staticRenderFns:[]};var m=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},p,!1,function(e){a("wlC5")},null,null).exports,h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("DatePicker",{staticClass:"field-box-right",attrs:{placeholder:e.data.placeholder,disabled:e.disabled,type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var b=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},h,!1,function(e){a("cJp0")},null,null).exports,y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("DatePicker",{staticClass:"field-box-right",attrs:{placeholder:e.data.placeholder,disabled:e.disabled,type:"datetimerange"},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var F=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},y,!1,function(e){a("pqk3")},null,null).exports,g={props:["data","disabled","mode"],data:function(){return{isInvalide:!1}},methods:{validate:function(){console.log("this.data.value",this.data.value);var e=this.data.value.trim(),t=this.data,a=t.required,l=t.label,i=t.minLength,s=t.length;return a&&""==e?(this.isInvalide=!0,this.$Message.error("【"+l+"】不能为空！"),!1):e.length<i?(this.isInvalide=!0,this.$Message.error("【"+l+"】至少输入"+i+"个字符"),!1):e.length>s?(this.isInvalide=!0,this.$Message.error("【"+l+"】字数超过最大长度【"+s+"】"),!1):(this.isInvalide=!1,!0)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("Input",{staticClass:"field-box-right",class:{"ivu-form-item-error .ivu-input":e.isInvalide},attrs:{placeholder:e.data.placeholder,disabled:e.disabled},on:{"on-blur":e.validate},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var I=a("VU/8")(g,x,!1,function(e){a("VD4x")},null,null).exports,C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("InputNumber",{attrs:{placeholder:e.data.placeholder,disabled:e.disabled,max:9999,min:-9999,step:1},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var w=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},C,!1,function(e){a("89R3")},null,null).exports,k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("RadioGroup",{staticClass:"field-box-right",style:{textAlign:"list"==e.mode?"center":"left"},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},e._l(e.data.arrayValue,function(t){return a("Radio",{key:t,attrs:{label:t,disabled:e.disabled}})}))],1)},staticRenderFns:[]};var S=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},k,!1,function(e){a("tD/8")},null,null).exports,T=a("sYY+"),$=a.n(T),z={name:"editor",props:["disabled"],data:function(){return{editor:void 0}},watch:{disabled:function(e){console.log("disable editor",e),this.editor.$textElem.attr("contenteditable",e)}},mounted:function(){var e=this;console.log("disable is",this.disabled),this.editor=new $.a(this.$refs.editor),this.editor.customConfig.onchange=function(t){e.$emit("input",t),e.$emit("update:text",e.editor.txt.text())},this.editor.customConfig.zIndex=3,this.editor.create()}},A={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"editor",staticStyle:{"text-align":"left"}})])},staticRenderFns:[]};var B={props:["data","disabled","mode"],components:{Editor:a("VU/8")(z,A,!1,function(e){a("EB1D")},"data-v-8f2c67b6",null).exports},data:function(){return{pureText:""}},methods:{validate:function(){var e=this.pureText.trim(),t=this.data,a=t.required,l=t.label,i=t.minLength,s=t.length;return a&&""==e?(this.isInvalide=!0,this.$Message.error("【"+l+"】不能为空！"),!1):e.length<i?(this.isInvalide=!0,this.$Message.error("【"+l+"】至少输入"+i+"个字符"),!1):e.length>s?(this.isInvalide=!0,this.$Message.error("【"+l+"】字数超过最大长度【"+s+"】"),!1):(this.isInvalide=!1,!0)}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"===e.mode||e.readonly?e._e():a("div",{staticClass:"field-box-left"},[e.data.required?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",staticStyle:{"text-align":"left",padding:"12px"},domProps:{innerHTML:e._s(e.data.value)}}):a("editor",{ref:"editor",staticClass:"field-box-right",attrs:{text:e.pureText,placeholder:e.data.placeholder,disabled:e.disabled},on:{"update:text":function(t){e.pureText=t}},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}}),e._v(" "),e.disabled?a("div",{staticClass:"field-box-right field-mask"}):e._e()],1)},staticRenderFns:[]};var q=a("VU/8")(B,V,!1,function(e){a("Eoja")},null,null).exports,N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("Select",{staticClass:"field-box-right",attrs:{disabled:e.disabled},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},e._l(e.data.arrayValue,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],1)},staticRenderFns:[]};var E=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},N,!1,function(e){a("lY2v")},null,null).exports,K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("i-switch",{attrs:{disabled:e.disabled},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var R=a("VU/8")({props:["data","disabled","mode"],methods:{validate:function(){return!0}}},K,!1,function(e){a("eBNY")},null,null).exports,O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},[e._v("\n    "+e._s(e.data.value)+"\n  ")]):a("Rate",{staticClass:"field-box-right",attrs:{"show-text":e.data.showText,"allow-half":e.data.allowHalf,count:e.data.count,disabled:e.disabled},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1)},staticRenderFns:[]};var P=a("VU/8")({props:["data","disabled","mode"],data:function(){return{isInvalide:!1}},methods:{validate:function(){return!0}}},O,!1,function(e){a("xK5U")},null,null).exports,L={props:["data","disabled","mode"],data:function(){return{isInvalide:!1}},computed:{headers:function(){return{}},uploadUrl:function(){return""},files:function(){var e=[],t=[];return _.isString(this.data.value)?t=JSON.parse(this.data.value):_.isArray(this.data.value)&&(t=this.data.value),t.forEach(function(t){var a=t.split("|");a.length>0&&e.push({name:a[0],url:""})}),e}},methods:{validate:function(){return!0},onSuccess:function(e){this.data.value=[].concat(n()(this.data.value),[e.hyz_result[0]]),console.log(this.data.value)}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-box"},["list"!==e.mode?a("div",{staticClass:"field-box-left"},[e.data.required&&!e.data.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.columnKey)+"   ")]):e._e()])]):e._e(),e._v(" "),e.data.readonly&&e.files?a("div",{staticClass:"readonly-text",style:{textAlign:"list"==e.mode?"center":"left"}},e._l(e.files,function(t,l){return a("p",{key:l},[a("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])})):a("Upload",{staticClass:"field-box-right",staticStyle:{margin:"6px 2px 0 0"},attrs:{"show-upload-list":!0,accept:e.data.accept,multiple:e.data.multiple,placeholder:e.data.placeholder,disabled:e.disabled,type:"drag",headers:e.headers,name:"files","on-success":e.onSuccess,action:e.uploadUrl},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}},[a("div",{staticClass:"app-center",staticStyle:{padding:"12px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),a("div",{staticStyle:{"margin-left":"24px"}},[a("p",[e._v("点击或拖拽文件到此处进行上传")]),e._v(" "),e.data.accept?a("p",[e._v("支持以下文件类型上传：【"+e._s(e.data.accept)+"】")]):e._e()])],1)]),e._v(" "),e.disabled?a("div",{staticClass:"field-box-right field-mask"}):e._e()],1)},staticRenderFns:[]};var D=a("VU/8")(L,j,!1,function(e){a("q8o3")},null,null).exports,U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"f-root"},[e.data.isHideHead?e._e():a("h4",{style:{textAlign:e.data.textAlign,backgroundColor:e.data.bgColor}},[e._v(e._s(e.data.label))]),e._v(" "),e._t("content")],2)},staticRenderFns:[]};var M=a("VU/8")({props:["data"]},U,!1,function(e){a("d90I")},"data-v-2b4fb65d",null).exports,H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"f-root"},[e.data.isHideHead?e._e():a("h4",{style:{textAlign:e.data.textAlign}},[e._v(e._s(e.data.objectName))]),e._v(" "),e._t("content"),e._v(" "),e.showBorder?a("div",{staticClass:"wavy-line"}):e._e()],2)},staticRenderFns:[]};var Y=a("VU/8")({props:["data","showBorder"]},H,!1,function(e){a("6QzW")},"data-v-30ccad81",null).exports,G={render:function(){var e=this.$createElement;return(this._self._c||e)("h3",{staticClass:"f-root"},[this._v("\n  "+this._s(this.data.label)+"\n")])},staticRenderFns:[]};var J=a("VU/8")({props:["data"]},G,!1,function(e){a("SF1R")},"data-v-3188e251",null).exports,Q={props:["data","disabled"],methods:{validate:function(e){var t=e.value.trim(),a=e.required,l=e.label,i=e.minLength,s=e.length;return a&&""==t?(e.isInvalide=!0,this.$Message.error("【"+l+"】不能为空！"),!1):t.length<i?(e.isInvalide=!0,this.$Message.error("【"+l+"】至少输入"+i+"个字符"),!1):t.length>s?(e.isInvalide=!0,this.$Message.error("【"+l+"】字数超过最大长度【"+s+"】"),!1):(e.isInvalide=!1,console.log("v is ",e),!0)}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"f-root"},[a("div",{staticClass:"f-item"},[a("div",{staticClass:"f-item-left"},[e.data.fields[0].required?a("div",{staticClass:"f-item-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.fields[0].label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.fields[0].columnKey)+"   ")]):e._e()])]),e._v(" "),a("Input",{staticClass:"f-item-right",attrs:{placeholder:e.data.fields[0].placeholder,disabled:e.disabled},on:{"on-blur":function(t){e.validate(e.data.fields[0])}},model:{value:e.data.fields[0].value,callback:function(t){e.$set(e.data.fields[0],"value",t)},expression:"data.fields[0].value"}})],1),e._v(" "),a("div",{staticClass:"f-item"},[a("div",{staticClass:"f-item-left"},[e.data.fields[1].required?a("div",{staticClass:"f-item-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.fields[1].label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.fields[1].columnKey)+"   ")]):e._e()])]),e._v(" "),a("Input",{staticClass:"f-item-right",attrs:{placeholder:e.data.fields[1].placeholder,disabled:e.disabled},on:{"on-blur":function(t){e.validate(e.data.fields[1])}},model:{value:e.data.fields[1].value,callback:function(t){e.$set(e.data.fields[1],"value",t)},expression:"data.fields[1].value"}})],1),e._v(" "),a("div",{staticClass:"f-item"},[a("div",{staticClass:"f-item-left"},[e.data.fields[2].required?a("div",{staticClass:"f-item-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.fields[2].label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.fields[2].columnKey)+"   ")]):e._e()])]),e._v(" "),a("Input",{staticClass:"f-item-right",attrs:{placeholder:e.data.fields[2].placeholder,disabled:e.disabled},on:{"on-blur":function(t){e.validate(e.data.fields[2])}},model:{value:e.data.fields[2].value,callback:function(t){e.$set(e.data.fields[2],"value",t)},expression:"data.fields[2].value"}})],1),e._v(" "),a("div",{staticClass:"f-item"},[a("div",{staticClass:"f-item-left"},[e.data.fields[3].required?a("div",{staticClass:"f-item-left-required"},[e._v("*")]):e._e(),e._v(" "),a("div",[a("p",[e._v(e._s(e.data.fields[3].label)+"：")]),e._v(" "),e.disabled?a("p",{staticStyle:{color:"#bababa"}},[e._v(e._s(e.data.fields[3].columnKey)+"   ")]):e._e()])]),e._v(" "),a("Input",{staticClass:"f-item-right",attrs:{placeholder:e.data.fields[3].placeholder,disabled:e.disabled},on:{"on-blur":function(t){e.validate(e.data.fields[3])}},model:{value:e.data.fields[3].value,callback:function(t){e.$set(e.data.fields[3],"value",t)},expression:"data.fields[3].value"}})],1)])},staticRenderFns:[]};var X=a("VU/8")(Q,W,!1,function(e){a("vE9D")},"data-v-1b500f00",null).exports;a("BO1k");function Z(e){for(var t="",a=0;a<e;a++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function ee(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],l=0;l<e;l++)a.push(Z(1));return a.join(t)}var te=a("M4fF"),ae=a.n(te),le={props:["data","readonly"],components:{FAreatext:v,FCheckbox:m,FDate:b,FDateRange:F,FInput:I,FNumber:w,FRadio:S,FRichEditor:q,FSelect:E,FSwitch:R,FRate:P,FUpload:D,LArea:M,LSubForm:Y,LTitle:J,BStaffInfo:X},mounted:function(){console.log("data is ",this.data)},methods:{value:function(){var e=this,t=[],a=this.$refs.field;console.log("fields is",a);var l=!0;if(a.forEach(function(e){e.validate()||(l=!1)}),!l)return!1;var i={},s=[];return this.data.forEach(function(t){if(!ae.a.isEmpty(t.children))if("area"===t.type)t.children.forEach(function(t){return e.setValue(i,t)});else if("subForm"===t.type){var a=[];if(s.push({id:t.id,storageTableName:t.storageTableName,attributes:a}),1==t.displayType){var l={};t.children.forEach(function(t){return e.setValue(l,t)}),a.push(l)}else t.values.forEach(function(t){var l={};t.fields.forEach(function(t){return e.setValue(l,t)}),a.push(l)})}}),t.mainAttr=i,t.childFormAttrs=s,t},setValue:function(e,t){"checkbox"===t.type?e["c_"+t.columnKey]=t.value.join(","):"richEditor"===t.type?e["c_"+t.columnKey]=t.value:"date"===t.type?e["c_"+t.columnKey]=new Date(t.value).getTime():e["c_"+t.columnKey]=t.value},addRow:function(e){ae.a.map(e.children,function(e){return[[e.columnKey],e.value]});e.values.push({fields:ae.a.cloneDeep(e.children),uuId:ee()}),this.$forceUpdate()},removeRow:function(e,t){e.values=ae.a.reject(e.values,{uuId:t.uuId}),this.$forceUpdate()},cloneRow:function(e,t,a){var l=ae.a.cloneDeep(t);l.uuId=ee(),e.values.splice(a+1,0,l),this.$forceUpdate()}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-view"},e._l(e.data,function(t,l){return a("div",{key:l},["title"===t.type?a("l-title",{staticClass:"form-title",attrs:{id:l,data:t}}):"area"===t.type?a("l-area",{staticClass:"form-area",attrs:{id:l,data:t}},e._l(t.children,function(t,l){return a("div",{key:l,staticClass:"form-item",attrs:{slot:"content"},slot:"content"},["input"===t.type?a("f-input",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"textarea"===t.type?a("f-areatext",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"radio"===t.type?a("f-radio",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"checkbox"===t.type?a("f-checkbox",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"select"===t.type?a("f-select",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"switch"===t.type?a("f-switch",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"date"===t.type?a("f-date",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"daterange"===t.type?a("f-date-range",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"number"===t.type?a("f-number",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"staff"===t.type?a("b-staff-info",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"richEditor"===t.type?a("f-rich-editor",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"rate"===t.type?a("f-rate",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"upload"===t.type?a("f-upload",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):e._e()],1)})):"subForm"===t.type&&1==t.displayType?a("l-subForm",{staticClass:"form-area",attrs:{id:l,data:t}},e._l(t.children,function(t,l){return a("div",{key:l,staticClass:"form-item",attrs:{slot:"content"},slot:"content"},["input"===t.type?a("f-input",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"textarea"===t.type?a("f-areatext",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"radio"===t.type?a("f-radio",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"checkbox"===t.type?a("f-checkbox",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"select"===t.type?a("f-select",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"switch"===t.type?a("f-switch",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"date"===t.type?a("f-date",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"daterange"===t.type?a("f-date-range",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"number"===t.type?a("f-number",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"staff"===t.type?a("b-staff-info",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"richEditor"===t.type?a("f-rich-editor",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"rate"===t.type?a("f-rate",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):"upload"===t.type?a("f-upload",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,data:t}}):e._e()],1)})):"subForm"===t.type&&2==t.displayType?a("l-subForm",{staticClass:"form-area",attrs:{id:l,data:t}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"list-form-box"},[e._l(t.children,function(t,l){return a("div",{key:l,staticClass:"list-form-header"},[t.required&&!e.readonly?a("div",{staticClass:"field-box-left-required"},[e._v("*")]):e._e(),e._v(" "),a("span",[e._v(e._s(t.label))])])}),e._v(" "),e.readonly?e._e():a("Button",{staticStyle:{margin:"4px",width:"90px"},attrs:{size:"small",type:"primary",icon:"plus"},on:{click:function(a){e.addRow(t)}}})],2),e._v(" "),e._l(t.values,function(l,i){return a("div",{key:l.uuId,staticClass:"list-form-box"},[e._l(l.fields,function(t){return a("div",{key:t.uuId,staticClass:"list-form-item"},["input"===t.type?a("f-input",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"textarea"===t.type?a("f-areatext",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"radio"===t.type?a("f-radio",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"checkbox"===t.type?a("f-checkbox",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"select"===t.type?a("f-select",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"switch"===t.type?a("f-switch",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"date"===t.type?a("f-date",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"daterange"===t.type?a("f-date-range",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"number"===t.type?a("f-number",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"staff"===t.type?a("b-staff-info",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"richEditor"===t.type?a("f-rich-editor",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"rate"===t.type?a("f-rate",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):"upload"===t.type?a("f-upload",{ref:"field",refInFor:!0,attrs:{readonly:e.readonly,mode:"list",data:t}}):e._e()],1)}),e._v(" "),e.readonly?e._e():a("div",{staticClass:"app-center",staticStyle:{margin:"0 4px"}},[a("div",{on:{click:function(a){a.stopPropagation(),e.removeRow(t,l)}}},[a("Icon",{staticClass:"icon-tiny",staticStyle:{color:"red"},attrs:{type:"android-close"}})],1),e._v(" "),a("div",{on:{click:function(a){a.stopPropagation(),e.cloneRow(t,l,i)}}},[a("Icon",{staticClass:"icon-tiny",attrs:{type:"ios-copy-outline"}})],1)])],2)})],2)]):e._e()],1)}))},staticRenderFns:[]};var se=a("VU/8")(le,ie,!1,function(e){a("fURZ")},null,null).exports,re=a("6Y8V"),oe=a.n(re),de=(a("Dukv"),a("h636"),{props:["show","data","formInfo"],components:{formView:se,editor:oe.a},data:function(){return{isShow:this.show,readonly:!1,tab:"formView",btnLabel:"开始验证",priviewData:[]}},watch:{show:function(e){this.isShow=e,e&&(this.tab="formView")}},mounted:function(){this.priviewData=ae.a.cloneDeep(this.data)},computed:{jsonStr:function(){var e=o()({},this.formInfo,{fields:this.data});return s()(e,null,4)}},methods:{cancel:function(){this.$emit("close-modal")},testCheck:function(){if("开始验证"==this.btnLabel){var e=this.$refs.form.value();console.log("test check value is",e),e&&(this.$Message.success("验证通过！"),this.readonly=!0),this.btnLabel="再次验证"}else this.readonly=!1,this.priviewData=ae.a.cloneDeep(this.data),this.btnLabel="开始验证"}}}),ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"1000"},on:{"on-cancel":e.cancel},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("Tabs",{attrs:{animated:!1},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("TabPane",{staticStyle:{overflow:"auto",height:"420px"},attrs:{name:"formView",label:"表单预览"}},[a("form-view",{ref:"form",attrs:{data:e.data,readonly:e.readonly}}),e._v(" "),a("Button",{staticStyle:{margin:"0 45%",width:"10%"},attrs:{type:"primary"},on:{click:e.testCheck}},[e._v(e._s(e.btnLabel))])],1),e._v(" "),a("TabPane",{attrs:{name:"dataView",label:"数据预览"}},[a("editor",{attrs:{value:e.jsonStr,options:{readOnly:!0},lang:"javascript",theme:"chrome",width:"100%",height:"420"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)},staticRenderFns:[]};var ce=a("VU/8")(de,ne,!1,function(e){a("SJ8i")},null,null).exports,ue=[{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"单行文本",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"},{type:"textarea",length:200,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"多行文本",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"},{type:"radio",length:20,isAddIndex:!1,required:!1,groupType:"array",label:"单选框",arrayValue:["选项1","选项2","选项3"],value:"",defaultValue:"",attributeType:"varchar"},{type:"checkbox",length:20,isAddIndex:!1,required:!1,groupType:"array",label:"多选框",arrayValue:["选项1","选项2","选项3"],value:[],defaultValue:"",attributeType:"varchar"},{type:"number",length:20,isAddIndex:!1,required:!1,groupType:"text",label:"数字",placeholder:"",value:0,defaultValue:0,attributeType:"int"},{type:"switch",length:20,isAddIndex:!1,required:!1,groupType:"boolean",label:"开关项",value:!1,defaultValue:0,attributeType:"int"},{type:"date",label:"日期",isAddIndex:!1,required:!1,placeholder:"请选择日期",value:"",defaultValue:"",attributeType:"datetime"},{type:"daterange",label:"日期区域",isAddIndex:!1,required:!1,placeholder:"请选择日期",value:[],defaultValue:"",attributeType:"datetime"},{type:"select",length:20,isAddIndex:!1,required:!1,groupType:"array",label:"下拉框",arrayValue:["选项1","选项2","选项3"],value:"",defaultValue:"",attributeType:"varchar"},{type:"richEditor",length:16e3,minLength:0,isAddIndex:!1,required:!1,groupType:"editor",label:"富文本",value:"",defaultValue:"",attributeType:"varchar"},{type:"upload",length:1e3,maxSize:10240,showUploadList:!1,multiple:!1,groupType:"common",accept:"",format:[],label:"附件上传",value:[],defaultValue:"",attributeType:"varchar"},{type:"rate",length:2,count:5,showText:!1,allowHalf:!1,groupType:"common",label:"等级评分",value:0,defaultValue:"",attributeType:"int"}],fe=[{type:"area",groupType:"layout",label:"表单区域",textAlign:"left",children:[]}],ve=[{type:"staff",groupType:"biz",label:"人员信息",placeholder:"",index:0,fields:[{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"姓名",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"手机号",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"部门",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"},{type:"input",length:20,minLength:0,isAddIndex:!1,required:!1,groupType:"text",label:"职位",placeholder:"",value:"",defaultValue:"",attributeType:"varchar"}]}],pe={props:["data"],components:{draggable:u.a,formPreview:ce,FAreatext:v,FCheckbox:m,FDate:b,FDateRange:F,FInput:I,FNumber:w,FRadio:S,FRichEditor:q,FSelect:E,FSwitch:R,FRate:P,FUpload:D,LArea:M,LSubForm:Y,LTitle:J,BStaffInfo:X},data:function(){return{isTableCreated:!1,isSubTableCreated:!1,isColumnCreated:!1,colStatus:["common","biz","other"],tabForm:"main",formDragOption:{group:{name:"form",pull:"clone",put:!1,revertClone:!1},sort:!1,dragClass:"drag-class",ghostClass:"ghost"},layoutDragOption:{group:{name:"layout",pull:"clone",put:!1},sort:!1,dragClass:"drag-class",ghostClass:"ghost"},layouts:fe,commons:ue,bizs:ve,fields:[],selectField:void 0,selectBizField:void 0,prevSelectField:void 0,showPreview:!1,originFields:[],originSubForms:[],isUpdate:!1,curFormInfo:{},curSubFormInfo:{},originFormInfo:{},subForms:[],isMainForm:!0,isPublish:!1,flowData:{}}},mounted:function(){this.init()},computed:{showPlaceholder:function(){return"input"===this.selectField.type||"textarea"===this.selectField.type||"select"===this.selectField.type||"date"===this.selectField.type},showBizPlaceholder:function(){return"input"===this.selectBizField.type||"textarea"===this.selectBizField.type||"select"===this.selectBizField.type||"date"===this.selectBizField.type},showArrayValue:function(){return"radio"===this.selectField.type||"checkbox"===this.selectField.type||"select"===this.selectField.type},showBizArrayValue:function(){return"radio"===this.selectBizField.type||"checkbox"===this.selectBizField.type||"select"===this.selectBizField.type},isFormField:function(){return this.selectField&&this.selectField.hasOwnProperty("storageTableName")},showColumnKey:function(){return!this.isFormField&&"layout"!==this.selectField.groupType},attrType:function(){return this.selectField?"fieldAttr":"formAttr"},formInfo:function(){var e=this.curFormInfo,t=e.objectName,a=e.objectType,l=e.showTableName,i=(e.storageTableName,e.descInfo),s=e.flowVersion;return{objectName:t,objectType:a,showTableName:l,storageTableName:"f_"+l+"_"+s,descInfo:i,flowVersion:s,keyName:e.keyName}},jsonFields:function(){var e=this;return this.subForms.forEach(function(t){return t.storageTableName="sub_"+t.showTableName+"_"+e.curFormInfo.flowVersion}),[].concat(n()(this.fields),n()(this.subForms))}},methods:{init:function(){var e=this.data;this.curFormInfo={flowVersion:1,storageTableName:e.storageTableName,showTableName:e.showTableName},this.fields=ae.a.filter(e.fields,function(e){return"subForm"!==e.type}),this.subForms=ae.a.filter(e.fields,function(e){return"subForm"===e.type}),console.log("fields is",this.fields,e),this.isUpdate&&(this.originFields=ae.a.cloneDeep(this.fields),this.originSubForms=ae.a.cloneDeep(this.subForms))},onBizFieldChanged:function(e,t){this.selectBizField=ae.a.find(t,{uuId:e})},removeField:function(e,t){this.fields.splice(t,1),this.selectField&&e.uuId===this.selectField.uuId&&(this.selectField=void 0)},cloneField:function(e,t){var a=ae.a.cloneDeep(e),l=ee();a.uuId=l,a.columnKey="column_"+ee(1),a.children&&a.children.forEach(function(e){var t=ee();e.uuId=t,e.columnKey="column_"+ee(1)}),this.fields.splice(t+1,0,a)},removeSubField:function(e,t,a){e.splice(a,1),this.selectField&&t.uuId===this.selectField.uuId&&(this.selectField=void 0)},cloneSubField:function(e,t,a){var l=ae.a.cloneDeep(t),i=ee();l.uuId=i,l.columnKey="column_"+ee(1),e.splice(a+1,0,l)},onAdd:function(e,t){var a=void 0;if(t)a=o()({},e);else{var l=this.fields[e.newIndex];a=o()({},l)}if(!a.uuId){var i=ee();a.uuId=i,a.columnKey="column_"+ee(1)}this.selectField=a,this.fields.splice(e.newIndex,1,a)},onFieldAdd:function(e,t){var a=t.children[e.newIndex],l=ae.a.cloneDeep(a);if(!l.uuId){var i=ee();l.uuId=i,l.columnKey="column_"+ee(1)}"staff"==l.type&&l.fields.forEach(function(e){e.uuId=ee(),e.columnKey="column_"+ee(1)}),this.selectField=l,t.children.splice(e.newIndex,1,l)},handleAddOption:function(){var e=ae.a.uniqueId("新选项");this.selectField.arrayValue.push(e),this.options.push(e)},removeOption:function(e){this.selectField.arrayValue.splice(e,1)},changeOption:function(e,t){this.$set(this.selectField.arrayValue,t,e.target.value)},setAttri:function(e){this.selectField&&e.uuId===this.selectField.uuId?(this.prevSelectField=this.selectField,this.selectField=void 0):(this.selectField=e,this.prevSelectField=this.selectField)},changeAttrType:function(e){"formAttr"===e?(this.prevSelectField=this.selectField,this.selectField=void 0):this.selectField=this.prevSelectField},onPreivew:function(){this.showPreview=!0},onReset:function(){this.fields=[],this.subForms=[],this.selectField=void 0},onSave:function(){var e=this,t=this.curFormInfo.objectName,a=this.curFormInfo.showTableName.trim();if(!t)return this.$Message.error("请输入表单名称！"),!1;if(!a)return this.$Message.error("请输入表单存储表名称！"),!1;if(this.isTableCreated)return this.$Message.error("该表已存在！"),!1;if(this.isSubTableCreated)return this.$Message.error("存在相同名称子表！"),!1;if(this.isColumnCreated)return this.$Message.error("存在重复表字段！"),!1;var l=[],i=[],r=!1,d=!1;if(this.fields.forEach(function(e){e.children&&e.children.forEach(function(e){"biz"===e.groupType?e.fields.forEach(function(e){l.push(o()({},e,{columnKey:"c_"+e.columnKey,defaultValue:s()(e.value),isAddIndex:e.isAddIndex?1:0,isNull:e.required?0:1}))}):l.push(o()({},e,{columnKey:"c_"+e.columnKey,defaultValue:s()(e.value),isAddIndex:e.isAddIndex?1:0,isNull:e.required?0:1}))})}),this.subForms.forEach(function(t){var a=o()({},t,{flowVersion:e.curFormInfo.flowVersion,keyName:e.curFormInfo.keyName,managerObjectAttributeList:[]}),l=t.objectName,n=t.showTableName;l.trim()||(r=!0),n.trim()||(d=!0),a.flowVersion=e.curFormInfo.flowVersion,a.storageTableName="sub_"+a.showTableName+"_"+e.curFormInfo.flowVersion,t.children.forEach(function(e){"biz"===e.groupType?e.fields.forEach(function(e){a.managerObjectAttributeList.push(o()({},e,{columnKey:"c_"+e.columnKey,defaultValue:s()(e.value),isAddIndex:e.isAddIndex?1:0,isNull:e.required?0:1}))}):a.managerObjectAttributeList.push(o()({},e,{columnKey:"c_"+e.columnKey,defaultValue:s()(e.value),isAddIndex:e.isAddIndex?1:0,isNull:e.required?0:1}))}),i.push(a)}),r)return this.$Message.error("请输入子表单名称！"),!1;if(d)return this.$Message.error("请输入子表单存储表名称！"),!1;if(0===l.length)return this.$Message.error("表单为空!"),!1;if(this.isUpdate&&!this.isPublish){var n=o()({},this.curFormInfo,{fileData:s()(o()({},this.formInfo,{fields:this.jsonFields})),storageTableName:this.formInfo.storageTableName,managerObjectAttributeList:l,childForms:i});this.$emit("on-update",n)}else{var c=o()({},this.curFormInfo,{storageTableName:this.formInfo.storageTableName,fileData:s()(o()({},this.formInfo,{fields:this.jsonFields})),managerObjectAttributeList:l,displayType:1,childForms:i});this.$emit("on-create",c)}},resetUpdateFields:function(){this.originFields=ae.a.cloneDeep(this.fields),this.originSubForms=ae.a.cloneDeep(this.subForms),this.originFormInfo=ae.a.cloneDeep(this.formInfo)},onBack:function(){this.$emit("on-back"),this.$router.push({name:"templateList"})},validate:function(){var e=ae.a.isEqual(this.fields,this.originFields),t=ae.a.isEqual(this.formInfo,this.originFormInfo),a=ae.a.isEqual(this.subForms,this.originSubForms);return console.log("validate",this.fields,this.originFields,this.formInfo,this.originFormInfo),!!(e&&t&&a)||this.onSave()},changeForm:function(e){this.isMainForm="main"===e,this.curSubFormInfo=ae.a.find(this.subForms,{uuId:e}),this.selectField=void 0},addSubForm:function(){var e={type:"subForm",groupType:"layout",label:"子表单",objectName:"子表单",displayType:1,objectType:2,textAlign:"left",bgColor:"aliceblue",showTableName:"",storageTableName:"",descInfo:"",children:[],values:[]};if(!e.uuId){var t=ee();e.uuId=t}this.subForms.push(e)},removeSubForm:function(e){this.subForms=ae.a.reject(this.subForms,{uuId:e}),this.curSubFormInfo.uuId==e&&this.changeForm(this.tabForm)},validateTableName:ae.a.debounce(function(e){var t="f_"+e.target.value.trim()+"_"+this.curFormInfo.flowVersion;this.$emit("validate-tablename",t)},800),validateSubTableName:ae.a.debounce(function(e){var t="sub_"+e.target.value.trim()+"_"+this.curFormInfo.flowVersion;this.$emit("validate-sub-tablename",t)},800),validateColumnName:ae.a.debounce(function(e,t){var a=this,l=e.target.value.trim();this.isColumnCreated=!1,this.fields.forEach(function(e){e.children&&e.children.forEach(function(e){e.uuId!==t&&e.columnKey==l&&(a.isColumnCreated=!0)})})},800)}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-form"},[a("div",{staticClass:"form-field"},[a("div",{staticStyle:{"margin-bottom":"12px",padding:"0",display:"flex","justify-content":"center"}},[a("ButtonGroup",[a("Button",{attrs:{shape:"circle",type:"primary",icon:"ios-eye"},on:{click:e.onPreivew}},[e._v("预览")]),e._v("  \n        "),a("Button",{attrs:{shape:"circle",type:"ghost",icon:"bookmark"},on:{click:e.onSave}},[e._v("保存")]),e._v("  \n        "),e._v(" "),a("Button",{attrs:{shape:"circle",type:"ghost",icon:"ios-reload"},on:{click:e.onReset}},[e._v("重置")])],1)],1),e._v(" "),a("Collapse",{model:{value:e.colStatus,callback:function(t){e.colStatus=t},expression:"colStatus"}},[a("Panel",{directives:[{name:"show",rawName:"v-show",value:e.isMainForm,expression:"isMainForm"}],attrs:{name:"other"}},[e._v("\n          表单字段\n          "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover"}},[a("Icon",{staticStyle:{"font-size":"13px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("先拖拽表单字段")]),e._v(" "),a("p",[e._v("通用字段和业务字段需要在表单字段中创建")])])],1),e._v(" "),a("div",{staticClass:"form-item-box",attrs:{slot:"content"},slot:"content"},[a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.layoutDragOption},model:{value:e.layouts,callback:function(t){e.layouts=t},expression:"layouts"}},e._l(e.layouts,function(t,l){return l%2==0?a("div",{key:l,staticClass:"form-item-left"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()})),e._v(" "),a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.layoutDragOption},model:{value:e.layouts,callback:function(t){e.layouts=t},expression:"layouts"}},e._l(e.layouts,function(t,l){return l%2==1?a("div",{key:l,staticClass:"form-item-right"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()}))],1)],1),e._v(" "),a("Panel",{attrs:{name:"common"}},[e._v("\n            通用字段\n            "),a("div",{staticClass:"form-item-box",attrs:{slot:"content"},slot:"content"},[a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.formDragOption},model:{value:e.commons,callback:function(t){e.commons=t},expression:"commons"}},e._l(e.commons,function(t,l){return l%2==0?a("div",{key:l,staticClass:"form-item-left"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()})),e._v(" "),a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.formDragOption},model:{value:e.commons,callback:function(t){e.commons=t},expression:"commons"}},e._l(e.commons,function(t,l){return l%2==1?a("div",{key:l,staticClass:"form-item-right"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()}))],1)]),e._v(" "),a("Panel",{attrs:{name:"biz"}},[e._v("\n          业务字段\n          "),a("div",{staticClass:"form-item-box",attrs:{slot:"content"},slot:"content"},[a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.formDragOption},model:{value:e.bizs,callback:function(t){e.bizs=t},expression:"bizs"}},e._l(e.bizs,function(t,l){return l%2==0?a("div",{key:l,staticClass:"form-item-left"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()})),e._v(" "),a("draggable",{staticStyle:{width:"50%"},attrs:{options:e.formDragOption},model:{value:e.bizs,callback:function(t){e.bizs=t},expression:"bizs"}},e._l(e.bizs,function(t,l){return l%2==1?a("div",{key:l,staticClass:"form-item-right"},[a("img",{attrs:{src:"static/icons/"+t.type+".png",width:"20"}}),e._v(" "),a("div",{staticStyle:{padding:"6px"}},[e._v(e._s(t.label))])]):e._e()}))],1)])],1)],1),e._v(" "),a("Tabs",{staticClass:"form-tabs",attrs:{animated:!1,type:"card"},on:{"on-click":e.changeForm,"on-tab-remove":e.removeSubForm},model:{value:e.tabForm,callback:function(t){e.tabForm=t},expression:"tabForm"}},[a("TabPane",{attrs:{name:"main",label:"主表单",icon:"star"}},[a("div",{staticClass:"form-content-box"},[a("div",{staticClass:"form-content"},[a("draggable",{staticClass:"form-drag",attrs:{element:"div",options:{group:{name:"layout"}}},on:{add:function(t){e.onAdd(t)}},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e._l(e.fields,function(t,l){return a("div",{key:l,staticClass:"form-drag-item",class:{"form-select":e.selectField&&t.uuId===e.selectField.uuId},staticStyle:{"margin-bottom":"8px"},on:{click:function(a){e.setAttri(t)}}},[a("div",{staticClass:"field-tool"},[a("div",{on:{click:function(a){a.stopPropagation(),e.removeField(t,l)}}},[a("Icon",{staticClass:"icon-tiny",staticStyle:{color:"red"},attrs:{type:"android-close"}})],1),e._v(" "),a("div",{on:{click:function(a){a.stopPropagation(),e.cloneField(t,l)}}},[a("Icon",{staticClass:"icon-tiny",attrs:{type:"ios-copy-outline"}})],1)]),e._v(" "),"title"===t.type?a("l-title",{attrs:{data:t}}):"area"===t.type?a("l-area",{attrs:{data:t}},[a("draggable",{staticStyle:{"min-height":"80px"},attrs:{slot:"content",options:{group:{name:"form"}}},on:{add:function(a){e.onFieldAdd(a,t)}},slot:"content",model:{value:t.children,callback:function(a){e.$set(t,"children",a)},expression:"item.children"}},e._l(t.children,function(l,i){return a("div",{key:i,staticClass:"form-drag-item",class:{"form-select":e.selectField&&l.uuId===e.selectField.uuId},on:{click:function(t){t.stopPropagation(),e.setAttri(l)}}},[a("div",{staticClass:"sub-field-tool"},[a("div",{on:{click:function(a){a.stopPropagation(),e.removeSubField(t.children,l,i)}}},[a("Icon",{staticClass:"icon-tiny",staticStyle:{color:"red"},attrs:{type:"android-close"}})],1),e._v(" "),a("div",{on:{click:function(a){a.stopPropagation(),e.cloneSubField(t.children,l,i)}}},[a("Icon",{staticClass:"icon-tiny",attrs:{type:"ios-copy-outline"}})],1)]),e._v(" "),"input"===l.type?a("f-input",{attrs:{data:l,disabled:!0}}):"textarea"===l.type?a("f-areatext",{attrs:{data:l,disabled:!0}}):"radio"===l.type?a("f-radio",{attrs:{data:l,disabled:!0}}):"checkbox"===l.type?a("f-checkbox",{attrs:{data:l,disabled:!0}}):"select"===l.type?a("f-select",{attrs:{data:l,disabled:!0}}):"switch"===l.type?a("f-switch",{attrs:{data:l,disabled:!0}}):"date"===l.type?a("f-date",{attrs:{data:l,disabled:!0}}):"daterange"===l.type?a("f-date-range",{attrs:{data:l,disabled:!0}}):"number"===l.type?a("f-number",{attrs:{data:l,disabled:!0}}):"staff"===l.type?a("b-staff-info",{attrs:{data:l,disabled:!0}}):"richEditor"===l.type?a("f-rich-editor",{attrs:{data:l,disabled:!0}}):"rate"===l.type?a("f-rate",{attrs:{data:l,disabled:!0}}):"upload"===l.type?a("f-upload",{attrs:{data:l,disabled:!0}}):e._e()],1)}))],1):e._e()],1)}))],1)])]),e._v(" "),e._l(e.subForms,function(t){return a("TabPane",{key:t.uuId,attrs:{closable:"",name:t.uuId,label:t.objectName}},[a("div",{staticClass:"form-content-box"},[a("div",{staticClass:"form-content"},[a("l-subForm",{attrs:{showBorder:!0,data:t}},[a("draggable",{staticStyle:{"min-height":"80px"},attrs:{slot:"content",options:{group:{name:"form"}}},on:{add:function(a){e.onFieldAdd(a,t)}},slot:"content",model:{value:t.children,callback:function(a){e.$set(t,"children",a)},expression:"item.children"}},e._l(t.children,function(l,i){return a("div",{key:i,staticClass:"form-drag-item",class:{"form-select":e.selectField&&l.uuId===e.selectField.uuId},on:{click:function(t){t.stopPropagation(),e.setAttri(l)}}},[a("div",{staticClass:"sub-field-tool"},[a("div",{on:{click:function(a){a.stopPropagation(),e.removeSubField(t.children,l,i)}}},[a("Icon",{staticClass:"icon-tiny",staticStyle:{color:"red"},attrs:{type:"android-close"}})],1),e._v(" "),a("div",{on:{click:function(a){a.stopPropagation(),e.cloneSubField(t.children,l,i)}}},[a("Icon",{staticClass:"icon-tiny",attrs:{type:"ios-copy-outline"}})],1)]),e._v(" "),"input"===l.type?a("f-input",{attrs:{data:l,disabled:!0}}):"textarea"===l.type?a("f-areatext",{attrs:{data:l,disabled:!0}}):"radio"===l.type?a("f-radio",{attrs:{data:l,disabled:!0}}):"checkbox"===l.type?a("f-checkbox",{attrs:{data:l,disabled:!0}}):"select"===l.type?a("f-select",{attrs:{data:l,disabled:!0}}):"switch"===l.type?a("f-switch",{attrs:{data:l,disabled:!0}}):"date"===l.type?a("f-date",{attrs:{data:l,disabled:!0}}):"daterange"===l.type?a("f-date-range",{attrs:{data:l,disabled:!0}}):"number"===l.type?a("f-number",{attrs:{data:l,disabled:!0}}):"staff"===l.type?a("b-staff-info",{attrs:{data:l,disabled:!0}}):"richEditor"===l.type?a("f-rich-editor",{attrs:{data:l,disabled:!0}}):"rate"===l.type?a("f-rate",{attrs:{data:l,disabled:!0}}):"upload"===l.type?a("f-upload",{attrs:{data:l,disabled:!0}}):e._e()],1)}))],1)],1)])])}),e._v(" "),a("Button",{attrs:{slot:"extra",type:"primary",icon:"plus",size:"small"},on:{click:e.addSubForm},slot:"extra"},[e._v("添加子表单")])],2),e._v(" "),a("div",{staticClass:"form-right"},[a("div",{staticClass:"form-attribute",attrs:{disabled:""}},[a("Tabs",{attrs:{value:e.attrType},on:{"on-click":e.changeAttrType}},[a("Tab-pane",{attrs:{label:"表单属性",name:"formAttr"}},[e.curFormInfo&&e.isMainForm?a("div",[a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("表单名称:")])]),e._v(" "),a("Input",{attrs:{placeholder:"请输入表单名称"},model:{value:e.curFormInfo.objectName,callback:function(t){e.$set(e.curFormInfo,"objectName",t)},expression:"curFormInfo.objectName"}})],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("对应存储表名称:\n                  "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover",transfer:"",placement:"top"}},[a("Icon",{staticStyle:{"font-size":"12px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("保存后会在数据库创建一张表,")]),e._v(" "),a("p",[e._v('表名自动添加"f_"前缀\',版本号当后缀')]),e._v(" "),a("p",[e._v('比如输入"table"，假如当前版本为1，会创建"f_table_1"表。')])])],1),e._v(" "),e.isTableCreated?a("span",{staticStyle:{color:"#ed3f14"}},[e._v("  该表已存在！")]):e._e()],1)]),e._v(" "),a("Input",{class:{"ivu-form-item-error .ivu-input":e.isTableCreated},attrs:{type:"text",placeholder:"请输入对应存储表名称"},on:{"on-change":e.validateTableName},model:{value:e.curFormInfo.showTableName,callback:function(t){e.$set(e.curFormInfo,"showTableName",t)},expression:"curFormInfo.showTableName"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("f_")]),e._v(" "),a("span",{attrs:{slot:"append"},slot:"append"},[e._v("_"+e._s(e.curFormInfo.flowVersion))])])],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("表单类型:")])]),e._v(" "),a("Select",{model:{value:e.curFormInfo.objectType,callback:function(t){e.$set(e.curFormInfo,"objectType",t)},expression:"curFormInfo.objectType"}},[a("Option",{attrs:{value:1}},[e._v("表单")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("工单")]),e._v(" "),a("Option",{attrs:{value:3}},[e._v("运算数据")])],1)],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("表单描述:")]),e._v(" "),a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入表单描述"},model:{value:e.curFormInfo.descInfo,callback:function(t){e.$set(e.curFormInfo,"descInfo",t)},expression:"curFormInfo.descInfo"}})],1)]):e._e(),e._v(" "),e.curSubFormInfo&&!e.isMainForm?a("div",[a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("子表单名称:")])]),e._v(" "),a("Input",{attrs:{clearable:"",placeholder:"请输入子表单名称"},model:{value:e.curSubFormInfo.objectName,callback:function(t){e.$set(e.curSubFormInfo,"objectName",t)},expression:"curSubFormInfo.objectName"}})],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("对应存储表名称:\n                  "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover",transfer:"",placement:"top"}},[a("Icon",{staticStyle:{"font-size":"12px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("保存后会在数据库创建一张子表,")]),e._v(" "),a("p",[e._v('表名自动添加"sub_"前缀\',版本号当后缀')]),e._v(" "),a("p",[e._v('比如输入"table"，假如当前版本为1，会创建"sub_table_1"表。')])])],1),e._v(" "),e.isSubTableCreated?a("span",{staticStyle:{color:"#ed3f14"}},[e._v("  该表已存在！")]):e._e()],1)]),e._v(" "),a("Input",{class:{"ivu-form-item-error .ivu-input":e.isSubTableCreated},attrs:{clearable:"",type:"text",placeholder:"请输入对应存储表名称"},on:{"on-change":e.validateSubTableName},model:{value:e.curSubFormInfo.showTableName,callback:function(t){e.$set(e.curSubFormInfo,"showTableName",t)},expression:"curSubFormInfo.showTableName"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("sub_")]),e._v(" "),a("span",{attrs:{slot:"append"},slot:"append"},[e._v("_"+e._s(e.curFormInfo.flowVersion))])])],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("子表单类型:")])]),e._v(" "),a("Select",{model:{value:e.curSubFormInfo.objectType,callback:function(t){e.$set(e.curSubFormInfo,"objectType",t)},expression:"curSubFormInfo.objectType"}},[a("Option",{attrs:{value:1}},[e._v("表单")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("工单")]),e._v(" "),a("Option",{attrs:{value:3}},[e._v("运算数据")])],1)],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("呈现类型:")])]),e._v(" "),a("Select",{model:{value:e.curSubFormInfo.displayType,callback:function(t){e.$set(e.curSubFormInfo,"displayType",t)},expression:"curSubFormInfo.displayType"}},[a("Option",{attrs:{value:1}},[e._v("属性")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("列表")])],1)],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("子表单描述:")]),e._v(" "),a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入表单描述"},model:{value:e.curSubFormInfo.descInfo,callback:function(t){e.$set(e.curSubFormInfo,"descInfo",t)},expression:"curSubFormInfo.descInfo"}})],1),e._v(" "),a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("标题位置:")]),e._v(" "),a("RadioGroup",{model:{value:e.curSubFormInfo.textAlign,callback:function(t){e.$set(e.curSubFormInfo,"textAlign",t)},expression:"curSubFormInfo.textAlign"}},[a("Radio",{attrs:{label:"left"}},[a("span",[e._v("居左")])]),e._v(" "),a("Radio",{attrs:{label:"center"}},[a("span",[e._v("居中")])]),e._v(" "),a("Radio",{attrs:{label:"right"}},[a("span",[e._v("居右")])])],1)],1)]):e._e()]),e._v(" "),a("Tab-pane",{attrs:{label:"字段属性",name:"fieldAttr"}},[e.selectField&&"biz"!==e.selectField.groupType?a("div",[e.isFormField||"parent"==e.selectField.type?e._e():a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("字段名称:")])]),e._v(" "),a("Input",{attrs:{clearable:""},model:{value:e.selectField.label,callback:function(t){e.$set(e.selectField,"label",t)},expression:"selectField.label"}})],1),e._v(" "),"area"==e.selectField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("标题位置:")]),e._v(" "),a("RadioGroup",{model:{value:e.selectField.textAlign,callback:function(t){e.$set(e.selectField,"textAlign",t)},expression:"selectField.textAlign"}},[a("Radio",{attrs:{label:"left"}},[a("span",[e._v("居左")])]),e._v(" "),a("Radio",{attrs:{label:"center"}},[a("span",[e._v("居中")])]),e._v(" "),a("Radio",{attrs:{label:"right"}},[a("span",[e._v("居右")])])],1)],1):e._e(),e._v(" "),e.showColumnKey?a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("对应存储表列名称:\n                  "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover",transfer:"",placement:"top"}},[a("Icon",{staticStyle:{"font-size":"12px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("默认随机生成一个列名，建议修改")]),e._v(" "),a("p",[e._v('保存会自动添加"c_"前缀')]),e._v(" "),a("p",[e._v('比如输入"field"，对应表中会生成"c_field"列')])])],1),e._v(" "),e.isColumnCreated?a("span",{staticStyle:{color:"#ed3f14"}},[e._v("  列名重复！")]):e._e()],1)]),e._v(" "),a("Input",{class:{"ivu-form-item-error .ivu-input":e.isColumnCreated},attrs:{clearable:""},on:{"on-change":function(t){e.validateColumnName(t,e.selectField.uuId)}},model:{value:e.selectField.columnKey,callback:function(t){e.$set(e.selectField,"columnKey",t)},expression:"selectField.columnKey"}})],1):e._e(),e._v(" "),e.showArrayValue?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("可选项:"),a("span",{staticStyle:{"font-weight":"normal"}},[e._v("(输入框按Enter键确认更新)")])]),e._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e._l(e.selectField.arrayValue,function(t,l){return a("Input",{key:t,staticStyle:{width:"48%",margin:"0 2% 4px 0"},attrs:{size:"small",icon:"ios-close-outline",name:t,closable:"",value:t},on:{"on-enter":function(t){e.changeOption(t,l)},"on-click":function(t){e.removeOption(l)}}},[e._v(e._s(t+1))])}),e._v(" "),a("Button",{staticStyle:{width:"48%"},attrs:{icon:"plus",type:"dashed",size:"small"},on:{click:e.handleAddOption}})],2)]):e._e(),e._v(" "),"checkbox"===e.selectField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("Select",{attrs:{multiple:""},model:{value:e.selectField.value,callback:function(t){e.$set(e.selectField,"value",t)},expression:"selectField.value"}},e._l(e.selectField.arrayValue,function(t,l){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],1):e._e(),e._v(" "),"radio"===e.selectField.type||"select"===e.selectField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("RadioGroup",{model:{value:e.selectField.value,callback:function(t){e.$set(e.selectField,"value",t)},expression:"selectField.value"}},e._l(e.selectField.arrayValue,function(e){return a("Radio",{key:e,attrs:{label:e}})}))],1):e._e(),e._v(" "),"switch"===e.selectField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("i-switch",{model:{value:e.selectField.value,callback:function(t){e.$set(e.selectField,"value",t)},expression:"selectField.value"}})],1):e._e(),e._v(" "),"text"===e.selectField.groupType?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("Input",{model:{value:e.selectField.value,callback:function(t){e.$set(e.selectField,"value",t)},expression:"selectField.value"}})],1):e._e(),e._v(" "),e.showPlaceholder?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("提示信息:")]),e._v(" "),a("Input",{model:{value:e.selectField.placeholder,callback:function(t){e.$set(e.selectField,"placeholder",t)},expression:"selectField.placeholder"}})],1):e._e(),e._v(" "),e.selectField.length?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("最大长度:")]),e._v(" "),a("InputNumber",{attrs:{max:9999,min:1,step:1},model:{value:e.selectField.length,callback:function(t){e.$set(e.selectField,"length",t)},expression:"selectField.length"}})],1):e._e(),e._v(" "),e.selectField.hasOwnProperty("minLength")?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("最小长度:")]),e._v(" "),a("InputNumber",{attrs:{max:e.selectField.length,min:0,step:1},model:{value:e.selectField.minLength,callback:function(t){e.$set(e.selectField,"minLength",t)},expression:"selectField.minLength"}})],1):e._e(),e._v(" "),e.selectField.hasOwnProperty("isAddIndex")?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否设为索引:")]),e._v(" "),a("Checkbox",{model:{value:e.selectField.isAddIndex,callback:function(t){e.$set(e.selectField,"isAddIndex",t)},expression:"selectField.isAddIndex"}})],1):e._e(),e._v(" "),e.selectField&&"rate"===e.selectField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("星级数量:")]),e._v(" "),a("InputNumber",{attrs:{max:10,min:1},model:{value:e.selectField.count,callback:function(t){e.$set(e.selectField,"count",t)},expression:"selectField.count"}})],1):e._e(),e._v(" "),e.selectField&&"rate"===e.selectField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否允许打半星:")]),e._v(" "),a("Checkbox",{model:{value:e.selectField.allowHalf,callback:function(t){e.$set(e.selectField,"allowHalf",t)},expression:"selectField.allowHalf"}})],1):e._e(),e._v(" "),e.selectField&&"rate"===e.selectField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否呈现文字:")]),e._v(" "),a("Checkbox",{model:{value:e.selectField.showText,callback:function(t){e.$set(e.selectField,"showText",t)},expression:"selectField.showText"}})],1):e._e(),e._v(" "),e.selectField&&"upload"===e.selectField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否支持多选:")]),e._v(" "),a("Checkbox",{model:{value:e.selectField.multiple,callback:function(t){e.$set(e.selectField,"multiple",t)},expression:"selectField.multiple"}})],1):e._e(),e._v(" "),e.selectField&&"upload"===e.selectField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("支持上传的文件类型:\n                "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover",transfer:"",placement:"top"}},[a("Icon",{staticStyle:{"font-size":"12px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("输入文件类型后缀，比如.jpg,.png,.doc")]),e._v(" "),a("p",[e._v("多个类型用英文逗号隔开")]),e._v(" "),a("p",[e._v("记得类型名前面加“.”号")]),e._v(" "),a("p",[e._v("不填则不做限制")])])],1)],1),e._v(" "),a("Input",{model:{value:e.selectField.accept,callback:function(t){e.$set(e.selectField,"accept",t)},expression:"selectField.accept"}})],1):e._e()]):e._e(),e._v(" "),e.selectField&&"biz"===e.selectField.groupType?a("div",[a("div",{staticClass:"form-attr-item"},[a("h5",[e._v(e._s(e.selectField.label)+":")]),e._v(" "),a("Select",{on:{"on-change":function(t){e.onBizFieldChanged(t,e.selectField.fields)}}},e._l(e.selectField.fields,function(t){return a("Option",{key:t.uuId,attrs:{value:t.uuId}},[e._v(e._s(t.label))])}))],1),e._v(" "),e.selectBizField?a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("字段名称:")])]),e._v(" "),a("Input",{attrs:{clearable:""},model:{value:e.selectBizField.label,callback:function(t){e.$set(e.selectBizField,"label",t)},expression:"selectBizField.label"}})],1):e._e(),e._v(" "),e.selectBizField?a("div",{staticClass:"form-attr-item"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"required"},[e._v("*")]),e._v(" "),a("h5",[e._v("对应存储表列名称:\n                  "),a("Poptip",{staticStyle:{"font-weight":"normal"},attrs:{trigger:"hover",transfer:"",placement:"top"}},[a("Icon",{staticStyle:{"font-size":"12px","font-weight":"bold"},attrs:{type:"ios-help-outline"}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("默认随机生成一个列名，建议修改")]),e._v(" "),a("p",[e._v('保存会自动添加"c_"前缀')]),e._v(" "),a("p",[e._v('比如输入"field"，对应表中会生成"c_field"列')])])],1),e._v(" "),e.isColumnCreated?a("span",{staticStyle:{color:"#ed3f14"}},[e._v("  列名重复！")]):e._e()],1)]),e._v(" "),a("Input",{class:{"ivu-form-item-error .ivu-input":e.isColumnCreated},attrs:{clearable:""},on:{"on-change":function(t){e.validateColumnName(t,e.selectBizField.uuId)}},model:{value:e.selectBizField.columnKey,callback:function(t){e.$set(e.selectBizField,"columnKey",t)},expression:"selectBizField.columnKey"}})],1):e._e(),e._v(" "),e.selectBizField&&e.showBizArrayValue?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("可选项:"),a("span",{staticStyle:{"font-weight":"normal"}},[e._v("(输入框按Enter键确认更新)")])]),e._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e._l(e.selectBizField.arrayValue,function(t,l){return a("Input",{key:t,staticStyle:{width:"48%",margin:"0 2% 4px 0"},attrs:{size:"small",icon:"ios-close-outline",name:t,closable:"",value:t},on:{"on-enter":function(t){e.changeOption(t,l)},"on-click":function(t){e.removeOption(l)}}},[e._v(e._s(t+1))])}),e._v(" "),a("Button",{staticStyle:{width:"48%"},attrs:{icon:"plus",type:"dashed",size:"small"},on:{click:e.handleAddOption}})],2)]):e._e(),e._v(" "),e.selectBizField&&"checkbox"===e.selectBizField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("Select",{attrs:{multiple:""},model:{value:e.selectBizField.value,callback:function(t){e.$set(e.selectBizField,"value",t)},expression:"selectBizField.value"}},e._l(e.selectBizField.arrayValue,function(t,l){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],1):e._e(),e._v(" "),!e.selectBizField||"radio"!==e.selectBizField.type&&"select"!==e.selectBizField.type?e._e():a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("RadioGroup",{model:{value:e.selectBizField.value,callback:function(t){e.$set(e.selectBizField,"value",t)},expression:"selectBizField.value"}},e._l(e.selectBizField.arrayValue,function(e){return a("Radio",{key:e,attrs:{label:e}})}))],1),e._v(" "),e.selectBizField&&"switch"===e.selectBizField.type?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("i-switch",{model:{value:e.selectBizField.value,callback:function(t){e.$set(e.selectBizField,"value",t)},expression:"selectBizField.value"}})],1):e._e(),e._v(" "),e.selectBizField&&"text"===e.selectBizField.groupType?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("默认值:")]),e._v(" "),a("Input",{model:{value:e.selectBizField.value,callback:function(t){e.$set(e.selectBizField,"value",t)},expression:"selectBizField.value"}})],1):e._e(),e._v(" "),e.selectBizField&&e.showBizPlaceholder?a("div",{staticClass:"form-attr-item"},[a("h5",[e._v("提示信息:")]),e._v(" "),a("Input",{model:{value:e.selectBizField.placeholder,callback:function(t){e.$set(e.selectBizField,"placeholder",t)},expression:"selectBizField.placeholder"}})],1):e._e(),e._v(" "),e.selectBizField&&e.selectBizField.length?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("最大长度:")]),e._v(" "),a("InputNumber",{attrs:{max:9999,min:1,step:1},model:{value:e.selectBizField.length,callback:function(t){e.$set(e.selectBizField,"length",t)},expression:"selectBizField.length"}})],1):e._e(),e._v(" "),e.selectBizField&&e.selectBizField.hasOwnProperty("minLength")?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("最小长度:")]),e._v(" "),a("InputNumber",{attrs:{max:e.selectBizField.length,min:0,step:1},model:{value:e.selectBizField.minLength,callback:function(t){e.$set(e.selectBizField,"minLength",t)},expression:"selectBizField.minLength"}})],1):e._e(),e._v(" "),e.selectBizField&&e.selectBizField.hasOwnProperty("isAddIndex")?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否设为索引:")]),e._v(" "),a("Checkbox",{model:{value:e.selectBizField.isAddIndex,callback:function(t){e.$set(e.selectBizField,"isAddIndex",t)},expression:"selectBizField.isAddIndex"}})],1):e._e(),e._v(" "),e.selectBizField&&"rate"===e.selectBizField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("星级数量:")]),e._v(" "),a("InputNumber",{attrs:{max:10,min:1},model:{value:e.selectBizField.count,callback:function(t){e.$set(e.selectBizField,"count",t)},expression:"selectBizField.count"}})],1):e._e(),e._v(" "),e.selectBizField&&"rate"===e.selectBizField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否允许打半星:")]),e._v(" "),a("Checkbox",{model:{value:e.selectBizField.allowHalf,callback:function(t){e.$set(e.selectBizField,"allowHalf",t)},expression:"selectBizField.allowHalf"}})],1):e._e(),e._v(" "),e.selectBizField&&"rate"===e.selectBizField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("是否呈现文字:")]),e._v(" "),a("Checkbox",{model:{value:e.selectBizField.showText,callback:function(t){e.$set(e.selectBizField,"showText",t)},expression:"selectBizField.showText"}})],1):e._e(),e._v(" "),e.selectField&&"upload"===e.selectField.type?a("div",{staticClass:"form-attr-item-h"},[a("h5",[e._v("支持上传的文件类型:")]),e._v(" "),a("Checkbox",{model:{value:e.selectField.showText,callback:function(t){e.$set(e.selectField,"showText",t)},expression:"selectField.showText"}})],1):e._e()]):e._e(),e._v(" "),e.selectField?e._e():a("Alert",{staticStyle:{margin:"0 12px"}},[e._v("未选择字段!")])],1)],1)],1)]),e._v(" "),a("form-preview",{attrs:{data:e.jsonFields,formInfo:e.formInfo,show:e.showPreview},on:{"close-modal":function(t){e.showPreview=!1}}})],1)},staticRenderFns:[]};var he=a("VU/8")(pe,me,!1,function(e){a("VrgU")},null,null).exports,be=a("76h+"),_e=a.n(be),ye={name:"App",components:{newForm:he,formView:se},data:function(){return{data:_e.a}}},Fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Tabs",{attrs:{value:"design"}},[t("TabPane",{attrs:{label:"表单设计",name:"design"}},[t("newForm",{ref:"form",attrs:{data:this.data}})],1),this._v(" "),t("TabPane",{attrs:{label:"表单呈现",name:"show"}},[t("formView",{ref:"form",attrs:{data:this.data.fields}})],1)],1),this._v(" "),t("a",{staticStyle:{position:"absolute",right:"20px",top:"12px"},attrs:{href:"https://github.com/liekkas/form-designer"}},[t("Icon",{attrs:{type:"social-github",size:"28"}})],1)],1)},staticRenderFns:[]};var ge=a("VU/8")(ye,Fe,!1,function(e){a("tBNX")},null,null).exports,xe=a("BTaQ"),Ie=a.n(xe);a("+skl");l.default.config.productionTip=!1,l.default.use(Ie.a),new l.default({el:"#app",components:{App:ge},template:"<App/>"})},SF1R:function(e,t){},SJ8i:function(e,t){},VD4x:function(e,t){},VrgU:function(e,t){},cJp0:function(e,t){},d90I:function(e,t){},eBNY:function(e,t){},fURZ:function(e,t){},lY2v:function(e,t){},pqk3:function(e,t){},q8o3:function(e,t){},qeng:function(e,t){},tBNX:function(e,t){},"tD/8":function(e,t){},vE9D:function(e,t){},wlC5:function(e,t){},xK5U:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.80f9a1de708d6492c59e.js.map